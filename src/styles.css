@tailwind base;
@tailwind components;
@tailwind utilities;

/* Lenis base */
html { height: auto; }
html.lenis { height: auto; }
html.lenis body { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto; }
.lenis.lenis-stopped { overflow: hidden; }
[data-lenis-prevent] { overscroll-behavior: contain; }

/* убираем горизонтальный скролл от эффектов */
html, body { overflow-x: hidden; }

.section { @apply relative w-full max-w-6xl mx-auto px-6 md:px-10; }
h1, h2, h3 { letter-spacing: -0.02em; }

.blurry-glow {
  position: absolute;
  inset: auto;
  width: 40rem;
  height: 40rem;
  filter: blur(120px);
  background: radial-gradient(45% 45% at 50% 50%, rgba(148,180,255,0.25) 0%, rgba(122,162,255,0.08) 40%, rgba(10,11,15,0) 70%);
  pointer-events: none;
}

a.cta {
  @apply inline-flex items-center gap-2 rounded-2xl px-6 py-3 bg-eter-accent/20 text-eter-text hover:bg-eter-accent/30 transition shadow-soft font-semibold;
  backdrop-filter: blur(6px);
  border: 1px solid rgba(122,162,255,0.35);
}

.card {
  @apply rounded-3xl bg-eter-card/80 border border-white/10 shadow-soft;
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.03);
}


/* scroll hint (если понадобится, сейчас не используем) */
.scroll-indicator{
  position: absolute;
  left: 50%; bottom: 1.25rem;
  transform: translateX(-50%);
  font-size: 0.75rem;
  color: rgba(255,255,255,.5);
  animation: floatDown 2.2s ease-in-out infinite;
  pointer-events: none;
  user-select: none;
}
@keyframes floatDown{
  0%,100% { transform: translateX(-50%) translateY(0);   opacity: .6; }
  50%     { transform: translateX(-50%) translateY(6px); opacity: 1; }
}

/* --- SAFE REVEAL --- */
/* Важно: прячем только если на <html> есть класс .js */
.js .will-reveal {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity .7s ease, transform .7s ease;
}
.js .will-reveal.revealed {
  opacity: 1;
  transform: translateY(0);
}
.bg-02{
      background: rgba(0, 0, 0, 0.2);
}

.glass-base {
  @apply border border-white/15 text-white/90 backdrop-blur-2xl;
  background:
    radial-gradient(120% 80% at 15% -10%, rgba(255,255,255,0.26) 0%, rgba(255,255,255,0) 46%),
    linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05));
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.28),
    0 10px 30px rgba(0,0,0,0.45),
    0 2px 8px rgba(0,0,0,0.35);
  position: relative;
}

.glass-base::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0) 40%) top left / 100% 50% no-repeat,
    radial-gradient(60% 40% at 80% 0%, rgba(165,120,255,0.22), rgba(158,124,255,0) 60%);
  opacity: 0.75;
  mix-blend-mode: screen;
}

.glass-base:hover {
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.22);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.3),
    0 14px 36px rgba(0,0,0,0.5),
    0 3px 10px rgba(0,0,0,0.35);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}
/* Реалистичная стеклянная карточка */
.glass-card {
  position: relative;
  border-radius: 1.25rem;              /* 20px */
  overflow: hidden;

  /* градиентный бордер через двойной бэкграунд */
  border: 1px solid transparent;
  background:
    linear-gradient(to bottom, rgba(255,255,255,0.28), rgba(255,255,255,0.04)) border-box,  /* бордер-блик */
    radial-gradient(120% 180% at 50% -20%, rgba(255,255,255,0.38), rgba(255,255,255,0) 55%) padding-box, /* верхний «свет» */
    linear-gradient(180deg, rgba(24,26,34,0.55), rgba(24,26,34,0.35) 45%, rgba(10,10,12,0.55) 100%) padding-box; /* стеклянная масса */

  backdrop-filter: blur(18px) saturate(1.35) contrast(1.05);
  -webkit-backdrop-filter: blur(18px) saturate(1.35) contrast(1.05);

  /* глубина и внутренняя тень снизу */
  box-shadow:
    inset 0 0.5px 0 rgba(255,255,255,0.45),       /* тонкий верхний кант */
    inset 0 -1px 0 rgba(0,0,0,0.35),              /* нижний кант */
    0 24px 80px rgba(0,0,0,0.55),                 /* большая тень */
    0 8px 28px rgba(0,0,0,0.40);                  /* ближняя тень */
  color: rgba(255,255,255,0.92);
}

/* верхний бликовый слой + холодный оттенок */
.glass-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0) 42%) top/100% 60% no-repeat,
    radial-gradient(70% 40% at 80% -10%, rgba(120,210,255,0.35), rgba(120,210,255,0) 60%);
  mix-blend-mode: screen;
  opacity: .85;
}

/* лёгкий внутренний виньет + микро-зерно, без base64 */
.glass-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    radial-gradient(140% 120% at 50% 120%, rgba(0,0,0,0.28), transparent 60%),
    repeating-linear-gradient(45deg, rgba(255,255,255,0.012) 0 2px, rgba(255,255,255,0) 2px 4px);
  opacity: .22; /* зерно еле заметно */
}

/* ховер — чуть больше «глубины» и светлее кант */
.glass-card:hover {
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.22);
  box-shadow:
    inset 0 0.5px 0 rgba(255,255,255,0.55),
    inset 0 -1px 0 rgba(0,0,0,0.4),
    0 28px 90px rgba(0,0,0,0.6),
    0 10px 32px rgba(0,0,0,0.45);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

@media (prefers-reduced-motion: reduce) {
  .glass-card, .glass-card:hover { transition: none; transform: none; }
}

.glass-btn.comet {
  @apply glass-base inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-3 text-sm font-medium text-white;
    border-color: rgba(97, 225, 255, .35) !important;
    color: rgba(255, 255, 255, .9) !important;
    background: radial-gradient(100% 80% at 20% -20%, rgba(97, 225, 255, .20) 0, rgba(97, 225, 255, 0) 60%), linear-gradient(180deg, rgba(255, 255, 255, .10), rgba(255, 255, 255, .04));
    box-shadow: inset 0 .5px 0 rgba(255, 255, 255, .35), 0 3px 12px rgba(97, 225, 255, .12);



}

.glass-btn.comet:active {
  transform: translateY(0);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.22),
    0 6px 16px rgba(0,0,0,0.45);
}

.glass-btn.comet:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px rgba(165,120,255,0.45),
    0 0 0 6px rgba(165,120,255,0.15);
  border-color: rgba(165,120,255,0.4);
}

.glass-btn.comet[disabled] {
  @apply cursor-not-allowed opacity-60;
  transform: none;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.22),
    0 6px 16px rgba(0,0,0,0.35);
}



@media (prefers-reduced-motion: reduce) {
  .glass-base { transition: none; }
  .glass-base:hover { transform: none; }
}
/* Делает карточку визуально такой же, как glass-btn  comet / glass-pill */
.glass-panel {
  @apply border border-white/15 text-white/90 backdrop-blur-2xl rounded-3xl;
  /* тот же стеклянный фон, что у .glass-base */
  background:
    radial-gradient(120% 80% at 15% -10%, rgba(165,120,255,0.26) 0%, rgba(165,120,255,0) 46%),
    linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.28),
    0 10px 30px rgba(0,0,0,0.45),
    0 2px 8px rgba(0,0,0,0.35);
  position: relative;
  --tw-backdrop-blur: blur(0px);
}

/* убираем «доп. слои» из базовой glass-card */
.glass-panel::before,
.glass-panel::after {
  content: none !important;
}

/* такой же hover, как у кнопок/пилюль */
.glass-panel:hover {
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.22);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.30),
    0 14px 36px rgba(0,0,0,0.5),
    0 3px 10px rgba(0,0,0,0.35);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

/* ===== Комета по бордеру для .glass-btn ===== */
@property --angle {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}

.glass-btn.comet {
  position: relative;
  overflow: visible; /* glow может выходить за края */
  border-radius: 22px;
  padding: 8px 12px;
}


/* Яркая «голова» кометы — тонкий пробегающий штрих */
.glass-btn.comet::after {
  content: "";
  position: absolute;
  inset: -2px;                 /* толщина неон-строки */
  border-radius: inherit;
  padding: 2px;                /* толщина обводки */
  background:
    conic-gradient(
      from var(--angle),
      transparent 0deg 330deg,
      rgba(165,120,255,0.95) 345deg,
      rgba(165,120,255,0.15) 360deg
    );
  /* показываем только рамку (вырезаем внутренность) */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  opacity: 0;
  transition: opacity .2s ease;
  pointer-events: none;
}

/* Мягкое свечение-хвост вокруг рамки */
.glass-btn.comet::before {
  content: "";
  position: absolute;
  inset: -6px;                 /* ширина внешнего сияния */
  border-radius: inherit;
  background:
    conic-gradient(
      from calc(var(--angle) - 8deg),
      transparent 0deg 330deg,
      rgba(165,120,255,0.55) 350deg,
      rgba(165,120,255,0.0) 360deg
    );
  filter: blur(8px);
  opacity: 0;
  transition: opacity .2s ease;
  pointer-events: none;
}

.glass-btn.comet:hover::after,
.glass-btn.comet:hover::before,
.glass-btn.comet:focus-visible::after,
.glass-btn.comet:focus-visible::before,
.glass-btn.comet-active::after,
.glass-btn.comet-active::before,comet-active {
  opacity: 1;
  animation: comet-rotate 1500ms linear infinite;
}

/* чуть быстрее при active */
.glass-btn.comet:active::after,
.glass-btn.comet:active::before,
.glass-btn.comet-active:active::after,
.glass-btn.comet-active:active::before,
{
  animation-duration: 900ms;
}

@keyframes comet-rotate {
  to { --angle: 360deg; }
}

/* a11y: если пользователь просит меньше анимации — отключаем бегущую комету */
@media (prefers-reduced-motion: reduce) {
  .glass-btn.comet::before,
  .glass-btn.comet::after {
    animation: none !important;
    opacity: 0 !important;
  }
}
.glass-pill {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: .45rem;
  padding: .28rem .7rem;
  border-radius: 9999px;
  font-weight: 600;
  font-size: .8125rem;
  line-height: 1.1;
  letter-spacing: .01em;
  cursor: default;

  /* цвет — как рамка кнопки */
  color: rgba(255,255,255,.88);
  border: 1px solid rgba(165,120,255,.7);
  background:
    radial-gradient(100% 180% at 50% 0%, rgba(165,120,255,.14), rgba(165,120,255,.04) 70%),
    linear-gradient(180deg, rgba(15,25,35,.9), rgba(10,15,25,.9));
  box-shadow:
    inset 0 0 1px rgba(255,255,255,.08),
    0 0 12px rgba(165,120,255,.12);

  transition: color .2s ease, border-color .2s ease, background .2s ease;
}

/* немного «живее» при наведении */
.glass-pill:hover {
  border-color: rgba(165,120,255,.35);
  background:
    radial-gradient(100% 180% at 50% 0%, rgba(165,120,255,.18), rgba(165,120,255,.06) 70%),
    linear-gradient(180deg, rgba(20,30,40,.92), rgba(12,18,28,.92));
  box-shadow:
    0 0 14px rgba(165,120,255,.18);
}

/* можно добавить акцентный вариант */
.glass-pill--accent {
  border-color: rgba(165,120,255,.5);
  background:
    radial-gradient(100% 180% at 50% 0%, rgba(165,120,255,.25), rgba(165,120,255,.08) 70%),
    linear-gradient(180deg, rgba(25,45,55,.95), rgba(15,20,25,.95));
  box-shadow:
    0 0 18px rgba(165,120,255,.25);
}



/* ===== Modal fade-in/out ===== */
.modal-fade-enter-from,
.modal-fade-leave-to {
  opacity: 0;
}
.modal-fade-enter-active,
.modal-fade-leave-active {
  transition: opacity .22s ease;
}

/* Въезд карты */
.auth-card {
  transform:  scale(.98);

  transition: transform .28s cubic-bezier(.22,.61,.36,1), opacity .28s ease;
}
.modal-fade-enter-to .auth-card,
.modal-fade-enter-active .auth-card {
  transform: translateY(0) scale(1);
  opacity: 1;
}
.modal-fade-leave-active .auth-card {
  transform:  scale(.985);
  opacity: 0;
}

/* ===== Tab swap (между Sign in / Sign up) ===== */
.tab-swap-enter-from {
  opacity: 0;
  transform: translateY(6px) scale(.995);
  filter: blur(2px);
}
.tab-swap-leave-to {
  opacity: 0;
  transform: translateY(-6px) scale(.995);
  filter: blur(2px);
}
.tab-swap-enter-active,
.tab-swap-leave-active {
  transition:
    opacity .18s ease,
    transform .18s ease,
    filter .18s ease;
}

/* Активная «комета» на табе — можно чуть усилить glow */
.glass-btn.comet.comet-active {
  box-shadow:
    0 0 18px rgba(97,225,255,.28),
    inset 0 0 8px rgba(97,225,255,.18);
  border-color: rgba(97,225,255,.55);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .modal-fade-enter-active,
  .modal-fade-leave-active,
  .tab-swap-enter-active,
  .tab-swap-leave-active,
  .auth-card {
    transition: none !important;
  }
  .tab-swap-enter-from,
  .tab-swap-leave-to {
    transform: none;
    filter: none;
  }
}

/* glass-card + glass-panel (совместимы с хиро-страницей) */
.glass-card {
  position: relative;
  border-radius: 1.25rem;
  overflow: hidden;
  border: 1px solid transparent;
  background:
    linear-gradient(to bottom, rgba(255,255,255,0.28), rgba(255,255,255,0.04)) border-box,
    radial-gradient(120% 180% at 50% -20%, rgba(255,255,255,0.38), rgba(255,255,255,0) 55%) padding-box,
    linear-gradient(180deg, rgba(24,26,34,0.55), rgba(24,26,34,0.35) 45%, rgba(10,10,12,0.55) 100%) padding-box;
  backdrop-filter: blur(18px) saturate(1.35) contrast(1.05);
  -webkit-backdrop-filter: blur(18px) saturate(1.35) contrast(1.05);
  box-shadow:
    inset 0 0.5px 0 rgba(255,255,255,0.45),
    inset 0 -1px 0 rgba(0,0,0,0.35),
    0 24px 80px rgba(0,0,0,0.55),
    0 8px 28px rgba(0,0,0,0.40);
  color: rgba(255,255,255,0.92);
}
.glass-card::before{
  content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0) 42%) top/100% 60% no-repeat,
    radial-gradient(70% 40% at 80% -10%, rgba(120,210,255,0.35), rgba(120,210,255,0) 60%);
  mix-blend-mode: screen; opacity:.85;
}
.glass-card::after{
  content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit;
  background:
    radial-gradient(140% 120% at 50% 120%, rgba(0,0,0,0.28), transparent 60%),
    repeating-linear-gradient(45deg, rgba(255,255,255,0.012) 0 2px, rgba(255,255,255,0) 2px 4px);
  opacity:.22;
}
/* панель без дополнительных слоёв поверх — как у кнопок/pill */
.glass-panel{
  border: 1px solid rgba(255,255,255,.15);
  background:
    radial-gradient(120% 80% at 15% -10%, rgba(165,120,255,0.26) 0%, rgba(165,120,255,0) 46%),
    linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.28),
    0 10px 30px rgba(0,0,0,0.45),
    0 2px 8px rgba(0,0,0,0.35);
  border-radius: 1.25rem;
}
.glass-panel::before, .glass-panel::after { content:none !important; }
.glass-card:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.22);
  box-shadow:
    inset 0 0.5px 0 rgba(255,255,255,0.55),
    inset 0 -1px 0 rgba(0,0,0,0.4),
    0 28px 90px rgba(0,0,0,0.6),
    0 10px 32px rgba(0,0,0,0.45);
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}
@media (prefers-reduced-motion: reduce){
  .glass-card, .glass-card:hover { transition:none; transform:none; }
}

main{
  margin-top: 70px !important;
}
.min-h100{
  min-height: 100vh;
}
.glass-btn.comet {

    border-color: rgba(97, 225, 255, .35) !important;
    color: rgba(255, 255, 255, .9) !important;
    background: rgb(16,16,19,.6)!important;
    box-shadow: inset 0 .5px 0 rgba(255, 255, 255, .35), 0 3px 12px rgba(97, 225, 255, .12) !important;



}

/* ===== Notifications ===== */
.notif-root {
  position: relative;
}
.notif-btn {
  position: relative;
  display: grid;
  place-items: center;
  width: 34px;
  height: 34px;
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.9);
  transition: background 0.2s ease, border-color 0.2s ease;
}
.notif-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.2);
}
.notif-dot {
  position: absolute;
  top: 2px;
  right: 3px;
  background: #8effb2;
  color: #0a0f0a;
  border-radius: 9999px;
  font-size: 11px;
  padding: 1px 4px;
  font-weight: 600;
}

.notif-panel {
  position: absolute;
  right: 0;
  margin-top: 0.5rem;
width: 340px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(18, 20, 26, 0.96) !important;
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.45);
  padding: 0.5rem 0;
  z-index: 50;
}
.notif-head,
.notif-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 12px;
  font-size: 13px;
  color: rgba(255, 255, 255, 0.9);
}
.notif-list {
  max-height: 300px;
  overflow-y: auto;
}
.notif-item {
  padding: 6px 12px;
  font-size: 13px;
  color: rgba(255, 255, 255, 0.85);

  gap: 8px;

  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
display: grid;
grid-template-columns: 120px 1fr;
}
.notif-item.unread {
  background: rgba(160, 200, 255, 0.08);
}
.notif-type {
  font-weight: 600;
  font-size: 12px;
  text-transform: uppercase;
  color: rgba(160, 200, 255, 0.85);
}
.notif-body {
  flex: 1;
  display: flex;
  flex-direction: column;
}
.notif-time {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.5);
}
.notif-empty {
  text-align: center;
  padding: 12px;
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
}
.notif-footer {
  text-align: center;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  justify-content: center;
  cursor: pointer;
}
.notif-footer:hover {
  background: rgba(255, 255, 255, 0.06);
}
.usermenu-root{
display: flex;
flex-direction: row-reverse;
gap: 6px;
}

/* ===== Global Scrollbar Styling ===== */
:root{
  --eter-scroll-thumb: rgba(165,120,255,0.85); /* site accent purple */
  --eter-scroll-thumb-hover: rgba(165,120,255,0.95);
  --eter-scroll-track: #000; /* black track */
}

/* Firefox */
html, body, * {
  scrollbar-width: thin;
  scrollbar-color: var(--eter-scroll-thumb) var(--eter-scroll-track);
}

/* Chromium/WebKit */
*::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}
*::-webkit-scrollbar-track {
  background: var(--eter-scroll-track);
}
*::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--eter-scroll-thumb), rgba(165,120,255,0.65));
  border-radius: 10px;
  border: 2px solid var(--eter-scroll-track);
}
*::-webkit-scrollbar-thumb:hover {
  background: var(--eter-scroll-thumb-hover);
}
*::-webkit-scrollbar-corner {
  background: var(--eter-scroll-track);
}
